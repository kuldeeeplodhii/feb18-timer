<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 12 Exam Dashboard</title>
    <style>
        :root {
            --bg-body: #000000;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-highlight: rgba(255, 255, 255, 0.05);
            --text-main: #f4f4f5;
            --text-muted: #a1a1aa;
            --accent: #2997ff; /* Apple Blue */
            --accent-glow: rgba(41, 151, 255, 0.3);
            --success: #30d158; /* Apple Green */
            --font-stack: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-stack);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-x: hidden;
        }

        /* Ambient Glows for Depth */
        body::before {
            content: '';
            position: fixed;
            top: -20%;
            left: -20%;
            width: 80vw;
            height: 80vw;
            background: radial-gradient(circle, rgba(41, 151, 255, 0.08) 0%, transparent 60%);
            z-index: 0;
            pointer-events: none;
        }
        
        body::after {
            content: '';
            position: fixed;
            bottom: -20%;
            right: -20%;
            width: 80vw;
            height: 80vw;
            background: radial-gradient(circle, rgba(100, 50, 255, 0.05) 0%, transparent 60%);
            z-index: 0;
            pointer-events: none;
        }

        /* Mountain Fog Container */
        .fog-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 45vh; /* Cover bottom 45% */
            z-index: 2; /* Above stars, below content */
            pointer-events: none;
            overflow: hidden;
            /* Fade the fog out at the top */
            mask-image: linear-gradient(to top, black 20%, transparent 100%);
            -webkit-mask-image: linear-gradient(to top, black 20%, transparent 100%);
            /* Base blue tint for the atmosphere - Icy Light Blue */
            background: linear-gradient(to top, rgba(100, 200, 255, 0.4) 0%, transparent 100%);
        }

        /* Animated Fog Layers */
        .fog-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            /* Generated Noise Texture for Clouds/Fog */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.015' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
            background-size: 50% 100%; /* Stretch to look wispy */
            filter: blur(15px) contrast(120%); /* Soften noise into fog */
            opacity: 0.7;
            /* Fast drift for mountain wind effect */
            animation: fog-drift 25s linear infinite;
            will-change: transform;
            /* Subtle tint on the noise layer itself */
            background-color: rgba(135, 206, 250, 0.1); 
        }

        /* Second layer moves faster and reverse for turbulence effect */
        .fog-layer.secondary {
            animation-duration: 15s;
            animation-direction: reverse;
            opacity: 0.5;
            filter: blur(20px) contrast(110%);
        }

        @keyframes fog-drift {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Star Background */
        .star {
            position: fixed;
            background: white;
            border-radius: 50%;
            z-index: 0; 
            pointer-events: none;
            opacity: 0;
            animation: twinkle var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
            box-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
        }

        @keyframes twinkle {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: var(--opacity); transform: scale(1.2); }
            100% { opacity: 0; transform: scale(0.5); }
        }

        /* Meteors */
        .meteor {
            position: fixed;
            top: 50%;
            left: 50%;
            height: 2px;
            width: 150px;
            background: linear-gradient(90deg, rgba(255,255,255,1), transparent);
            opacity: 0;
            transform: rotate(-45deg) translateX(0);
            pointer-events: none;
            z-index: 1; /* Just above background but below fog/content */
            border-radius: 999px;
            filter: drop-shadow(0 0 6px rgba(255,255,255,0.8));
        }

        .meteor.animate {
            animation: meteor-fall 2s linear forwards;
        }

        @keyframes meteor-fall {
            0% { opacity: 1; transform: rotate(-45deg) translateX(0); width: 150px; }
            70% { opacity: 1; }
            100% { opacity: 0; transform: rotate(-45deg) translateX(-1000px); width: 0px; }
        }

        /* Footer */
        .footer-love {
            text-align: center;
            padding: 3rem 1rem 1rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            letter-spacing: 0.05em;
            position: relative;
            z-index: 10;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            font-family: 'Segoe UI', sans-serif;
            text-transform: lowercase;
        }

        .neon-heart {
            color: #ff00ff; /* Neon Magenta */
            font-size: 1.4rem;
            animation: heartbeat 1.5s ease-in-out infinite;
            /* Neon Glow Effect */
            text-shadow: 
                0 0 5px #ff00ff,
                0 0 10px #ff00ff,
                0 0 20px #ff00ff,
                0 0 40px #ff1493;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); opacity: 0.7; }
            15% { transform: scale(1.25); opacity: 1; }
            30% { transform: scale(1); opacity: 0.7; }
            45% { transform: scale(1.25); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }

        /* Utils */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            width: 100%;
            position: relative;
            z-index: 10;
        }

        .hidden { display: none !important; }
        
        /* Typography */
        h1, h2, h3, h4 { font-weight: 600; letter-spacing: -0.01em; }
        .text-sm { font-size: 0.875rem; }
        .text-xs { font-size: 0.75rem; }
        .text-muted { color: var(--text-muted); }

        /* Glass Morphism Mixin Class */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            border-radius: 24px;
        }

        /* Header & Countdown */
        header {
            margin-bottom: 2.5rem;
        }

        .countdown-card {
            padding: 2.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .countdown-card:hover {
            border-color: rgba(255,255,255,0.15);
        }

        .timer-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .time-unit .value {
            font-size: 3.5rem;
            font-weight: 700;
            display: block;
            line-height: 1;
            background: linear-gradient(180deg, #fff, #a1a1aa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.02em;
        }

        .time-unit .label {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 500;
            margin-top: 0.5rem;
            display: block;
        }

        .progress-container {
            background: rgba(255,255,255,0.05);
            height: 6px;
            border-radius: 3px;
            margin-top: 2rem;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: var(--accent);
            height: 100%;
            width: 0%;
            border-radius: 3px;
            transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
            position: relative;
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            transform: translateX(-100%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            100% { transform: translateX(100%); }
        }

        /* Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 320px 1fr;
            gap: 2rem;
            align-items: start;
        }

        /* Date Sheet (Sidebar) */
        .datesheet {
            position: sticky;
            top: 2rem;
            overflow: hidden;
        }

        .datesheet-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--glass-border);
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-main);
            letter-spacing: 0.02em;
        }

        .subject-list {
            list-style: none;
            padding: 0.5rem;
        }

        .subject-item {
            padding: 1rem 1.25rem;
            margin: 0.25rem 0;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-muted);
            border-radius: 12px;
            position: relative;
        }

        .subject-item:hover {
            background: var(--glass-highlight);
            color: var(--text-main);
        }

        .subject-item.active {
            background: rgba(41, 151, 255, 0.15);
            color: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(4px);
        }

        .subject-item.active::before {
            content: '';
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 3px;
            background: var(--accent);
            border-radius: 3px 0 0 3px;
        }

        .subject-date {
            font-size: 0.75rem;
            color: var(--text-muted);
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--glass-border);
            padding: 2px 8px;
            border-radius: 6px;
            font-weight: 500;
        }

        .subject-item.active .subject-date {
            border-color: rgba(41, 151, 255, 0.3);
            color: #fff;
            background: rgba(41, 151, 255, 0.2);
        }

        /* Syllabus Panel */
        .syllabus-panel {
            min-height: 400px;
        }

        .syllabus-header {
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #current-subject-title {
            font-size: 2rem;
            background: linear-gradient(90deg, #fff, #ccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .progress-badge {
            background: rgba(48, 209, 88, 0.1);
            border: 1px solid rgba(48, 209, 88, 0.2);
            padding: 0.6rem 1.2rem;
            border-radius: 99px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--success);
            box-shadow: 0 0 20px rgba(48, 209, 88, 0.1);
            backdrop-filter: blur(10px);
        }

        /* Accordion System */
        .part-section {
            margin-bottom: 2.5rem;
        }
        
        .part-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: var(--text-muted);
            margin-bottom: 1.25rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--glass-border);
            display: inline-block;
        }

        .unit-card {
            margin-bottom: 1.25rem;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            background: rgba(255,255,255,0.02); /* Slightly more transparent than main glass */
        }
        
        .unit-card:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .unit-header {
            padding: 1.25rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .unit-title {
            font-weight: 500;
            color: var(--text-main);
            font-size: 1.05rem;
        }

        .toggle-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            position: relative;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toggle-icon::before, .toggle-icon::after {
            content: '';
            position: absolute;
            background-color: var(--text-muted);
            border-radius: 2px;
        }
        
        .toggle-icon::before { width: 10px; height: 2px; }
        .toggle-icon::after { width: 2px; height: 10px; transition: height 0.3s ease; }

        .unit-card.expanded .toggle-icon { 
            transform: rotate(90deg); 
            background: var(--accent);
        }
        .unit-card.expanded .toggle-icon::after { height: 0; }
        .unit-card.expanded .toggle-icon::before { background-color: white; }
        .unit-card.expanded .unit-title { color: var(--accent); text-shadow: 0 0 15px var(--accent-glow); }

        .unit-content {
            height: 0;
            overflow: hidden;
            transition: height 0.4s cubic-bezier(0.22, 1, 0.36, 1);
            background: rgba(0,0,0,0.2); 
            border-top: 1px solid transparent;
        }
        
        .unit-card.expanded .unit-content {
            border-top-color: var(--glass-border);
        }

        .topic-list {
            padding: 1.5rem;
        }

        /* Topics & Checkboxes */
        .topic-item {
            margin-bottom: 1rem;
            padding-left: 0.5rem;
        }

        .topic-header {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .sub-topic-list {
            margin-left: 2.25rem;
            margin-top: 0.75rem;
            padding-left: 1rem;
            border-left: 2px solid var(--glass-border);
        }

        .custom-checkbox {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #52525b;
            border-radius: 6px;
            background: rgba(0,0,0,0.3);
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .custom-checkbox:checked {
            background: var(--accent);
            border-color: var(--accent);
            box-shadow: 0 0 10px var(--accent-glow);
        }

        .custom-checkbox:checked::after {
            content: '';
            position: absolute;
            left: 6px;
            top: 2px;
            width: 4px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .topic-label {
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            color: var(--text-main);
            line-height: 1.4;
        }
        
        .sub-topic-list .topic-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .custom-checkbox:checked + .topic-label {
            color: #52525b;
            text-decoration: line-through;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .dashboard-grid { grid-template-columns: 1fr; gap: 1.5rem; }
            .datesheet { position: static; margin-bottom: 2rem; }
            .timer-display { gap: 0.5rem; margin: 1.5rem 0; }
            .time-unit .value { font-size: 2rem; }
            .glass-panel { backdrop-filter: blur(12px) saturate(180%); } /* Optimize for mobile */
        }
    </style>
</head>
<body>

<!-- Fog Layers -->
<div class="fog-container">
    <div class="fog-layer"></div>
    <div class="fog-layer secondary"></div>
</div>

<div class="container">
    <header>
        <div class="countdown-card glass-panel">
            <h2 class="text-muted text-sm" style="margin-bottom: 0.5rem; letter-spacing: 0.2em; text-transform: uppercase;">Time Until PHE Exam (18 Feb 2026)</h2>
            <div id="countdown-display" class="timer-display">
                <div class="time-unit"><span class="value" id="days">00</span><span class="label">Days</span></div>
                <div class="time-unit"><span class="value" id="hours">00</span><span class="label">Hours</span></div>
                <div class="time-unit"><span class="value" id="mins">00</span><span class="label">Mins</span></div>
                <div class="time-unit"><span class="value" id="secs">00</span><span class="label">Secs</span></div>
            </div>
            <div class="progress-container">
                <div id="countdown-progress" class="progress-bar"></div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 0.75rem; font-size: 0.75rem; color: var(--text-muted); font-weight: 500;">
                <span>Prep Start: 1 Feb</span>
                <span id="progress-percent" style="color: var(--text-main)">0%</span>
                <span>Exam Day</span>
            </div>
        </div>
    </header>

    <div class="dashboard-grid">
        <!-- Sidebar -->
        <aside class="datesheet glass-panel">
            <div class="datesheet-header">Date Sheet</div>
            <ul class="subject-list" id="subject-list">
                <!-- Injected via JS -->
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="syllabus-panel">
            <div class="syllabus-header">
                <h2 id="current-subject-title">Subject</h2>
                <div class="progress-badge" id="subject-progress">0% Completed</div>
            </div>
            <div id="syllabus-content">
                <!-- Injected via JS -->
            </div>
        </main>
    </div>

    <!-- Footer with love -->
    <footer class="footer-love">
        with love from kuldeep to tanvi <span class="neon-heart">❤</span>
    </footer>
</div>

<script>
    // --- Data ---
    const EXAMS = [
        { id: 'phe', name: 'Physical Education', date: '2026-02-18', displayDate: '18 Feb' },
        { id: 'geo', name: 'Geography', date: '2026-02-26', displayDate: '26 Feb' },
        { id: 'arts', name: 'Fine Arts', date: '2026-02-27', displayDate: '27 Feb' },
        { id: 'eng', name: 'English', date: '2026-03-12', displayDate: '12 Mar' },
        { id: 'pol', name: 'Political Science', date: '2026-03-23', displayDate: '23 Mar' },
        { id: 'hist', name: 'History', date: '2026-03-30', displayDate: '30 Mar' }
    ];

    const SYLLABUS_DB = {
        'phe': {
            parts: [
                {
                    name: "Theory",
                    units: [
                        {
                            title: "Unit I: Management of Sporting Events",
                            topics: [
                                { text: "Functions of Sports Events Management (Planning, Organising, Staffing, Directing & Controlling)" },
                                { text: "Various Committees & their Responsibilities (pre; during & post)" },
                                { 
                                    text: "Fixtures and its Procedures",
                                    sub: [
                                        "Knock-Out (Bye & Seeding)", 
                                        "League (Staircase, Cyclic, Tabular Method)",
                                        "Combination tournaments"
                                    ]
                                },
                                { text: "Intramural & Extramural tournaments – Meaning, Objectives & Its Significance" },
                                { text: "Community sports program (Sports Day, Health Run, Run for Fun, Run for Specific Cause & Run for Unity)" }
                            ]
                        },
                        {
                            title: "Unit II: Children & Women in Sports",
                            topics: [
                                { text: "Exercise guidelines of WHO for different age groups" },
                                { 
                                    text: "Common Postural Deformities & Corrective Measures", 
                                    sub: ["Knock Knee", "Flat Foot", "Round Shoulders", "Lordosis", "Kyphosis", "Scoliosis", "Bow Legs"] 
                                },
                                { text: "Women’s participation in Sports – Physical, Psychological, and social benefits" },
                                { text: "Special consideration (Menarche & Menstrual Dysfunction)" },
                                { text: "Female Athletes Triad (Osteoporosis, Amenorrhea, Eating Disorders)" }
                            ]
                        },
                        {
                            title: "Unit III: Yoga as Preventive measure for Lifestyle Disease",
                            topics: [
                                { text: "Obesity: Procedure, Benefits & Contraindications for Tadasana, Katichakrasana, Pavanmuktasana, Matsayasana, Halasana, Pachimottansana, Ardha–Matsyendrasana, Dhanurasana, Ushtrasana, Suryabedhan pranayama" },
                                { text: "Diabetes: Procedure, Benefits & Contraindications for Katichakrasana, Pavanmuktasana, Bhujangasana, Shalabhasana, Dhanurasana, Supta-vajarasana, Paschimottanasana, Ardha-Mastendrasana, Mandukasana, Gomukasana, Yogmudra, Ushtrasana, Kapalabhati" },
                                { text: "Asthma: Procedure, Benefits & Contraindications for Tadasana, Urdhwahastottansana, UttanMandukasana, Bhujangasana, Dhanurasana, Ushtrasana, Vakrasana, Kapalbhati, Gomukhasana, Matsyaasana, Anuloma-Viloma" },
                                { text: "Hypertension: Procedure, Benefits & Contraindications for Tadasana, Katichakransan, Uttanpadasana, Ardha Halasana, Sarala Matyasana, Gomukhasana, UttanMandukasana, Vakrasana, Bhujangasana, Makarasana, Shavasana, Nadi shodhanapranayam, Sitlipranayam" },
                                { text: "Back Pain and Arthritis: Procedure, Benefits & Contraindications for Tadasana, Urdhawahastootansana, Ardh-Chakrasana, Ushtrasana, Vakrasana, Sarala Maysyendrsana, Bhujangasana, Gomukhasana, Bhadrasana, Makarasana, Nadi-Shodhana pranayama" }
                            ]
                        },
                        {
                            title: "Unit IV: PE & Sports for CWSN (Children with Special Needs - Divyang)",
                            topics: [
                                { text: "Organizations promoting Disability Sports (Special Olympics; Paralympics; Deaflympics)" },
                                { text: "Concept of Classification and Divisioning in Sports" },
                                { text: "Concept of Inclusion in sports, its need, and Implementation" },
                                { text: "Advantages of Physical Activities for children with special needs" },
                                { text: "Strategies to make Physical Activities assessable for children with special needs" }
                            ]
                        },
                        {
                            title: "Unit V: Sports & Nutrition",
                            topics: [
                                { text: "Concept of balanced diet and nutrition" },
                                { text: "Macro and Micro Nutrients: Food sources & functions" },
                                { text: "Nutritive & Non-Nutritive Components of Diet" },
                                { text: "Eating for Weight control – A Healthy Weight, The Pitfalls of Dieting, Food Intolerance, & Food Myths" },
                                { text: "Importance of Diet in Sports-Pre, During and Post competition Requirements" }
                            ]
                        },
                        {
                            title: "Unit VI: Test & Measurement in Sports",
                            topics: [
                                { 
                                    text: "Fitness Test - SAI Khelo India Fitness Test in school",
                                    sub: [
                                        "Age group 5-8 yrs/ class 1-3: BMI, Flamingo Balance Test, Plate Tapping Test",
                                        "Age group 9-18yrs/ class 4-12: BMI, 50mt Speed test, 600mt Run/Walk, Sit & Reach flexibility test, Strength Test (Partial Abdominal Curl Up, Push-Ups for boys, Modified Push-Ups for girls)"
                                    ]
                                },
                                { text: "Measurement of Cardio-Vascular Fitness: Harvard Step Test" },
                                { text: "Computing Basal Metabolic Rate (BMR)" },
                                { 
                                    text: "Rikli & Jones - Senior Citizen Fitness Test",
                                    sub: [
                                        "Chair Stand Test for lower body strength",
                                        "Arm Curl Test for upper body strength",
                                        "Chair Sit & Reach Test for lower body flexibility",
                                        "Back Scratch Test for upper body flexibility",
                                        "Eight Foot Up & Go Test for agility",
                                        "Six Minute Walk Test for Aerobic Endurance"
                                    ]
                                },
                                { text: "Johnsen – Methney Test of Motor Educability (Front Roll, Roll, Jumping Half-Turn, Jumping full turn)" }
                            ]
                        },
                        {
                            title: "Unit VII: Physiology & Injuries in Sports",
                            topics: [
                                { text: "Physiological factors determining components of physical fitness" },
                                { text: "Effect of exercise on Muscular System" },
                                { text: "Effect of exercise on Cardio-Respiratory System" },
                                { text: "Physiological changes due to aging" },
                                { 
                                    text: "Sports injuries: Classification",
                                    sub: [
                                        "Soft Tissue Injuries: Abrasion, Contusion, Laceration, Incision, Sprain & Strain",
                                        "Bone & Joint Injuries: Dislocation",
                                        "Fractures: Green Stick, Comminuted, Transverse, Oblique & Impacted"
                                    ]
                                }
                            ]
                        },
                        {
                            title: "Unit VIII: Biomechanics & Sports",
                            topics: [
                                { text: "Newton’s Law of Motion & its application in sports" },
                                { text: "Types of Levers and their application in Sports" },
                                { text: "Equilibrium – Dynamic & Static and Centre of Gravity and its application in sports" },
                                { text: "Friction & Sports" },
                                { text: "Projectile in Sports" }
                            ]
                        },
                        {
                            title: "Unit IX: Psychology & Sports",
                            topics: [
                                { text: "Personality; its definition & types (Jung Classification & Big Five Theory)" },
                                { text: "Motivation, its type & techniques" },
                                { text: "Exercise Adherence: Reasons, Benefits & Strategies for Enhancing it" },
                                { text: "Meaning, Concept & Types of Aggressions in Sports" },
                                { text: "Psychological Attributes in Sports – Self Esteem, Mental Imagery, Self Talk, Goal Setting" }
                            ]
                        },
                        {
                            title: "Unit X: Training in Sports",
                            topics: [
                                { text: "Concept of Talent Identification and Talent Development in Sports" },
                                { text: "Introduction to Sports Training Cycle – Micro, Meso, Macro Cycle" },
                                { text: "Types & Method to Develop - Strength, Endurance and Speed" },
                                { text: "Types & Method to Develop – Flexibility and Coordinative Ability" },
                                { text: "Circuit Training - Introduction & its importance" }
                            ]
                        }
                    ]
                }
            ]
        },
        'geo': {
            parts: [
                {
                    name: "Part A: Fundamentals of Human Geography",
                    units: [
                        {
                            title: "Unit 1: Human Geography – Nature and Scope",
                            topics: [
                                { text: "Nature and Scope of Human Geography" }
                            ]
                        },
                        {
                            title: "Unit 2: People",
                            topics: [
                                { text: "The World Population – Distribution, Density, and Growth" },
                                { text: "Population Change: Components, Demographic Transition" },
                                { text: "International Comparisons" },
                                { text: "Human Development – Concept" }
                            ]
                        },
                        {
                            title: "Unit 3: Human Activities",
                            topics: [
                                { 
                                    text: "Primary Activities", 
                                    sub: ["Concept & Trends", "Mining", "Pastoral", "Modern Agriculture", "Gathering", "Subsistence Agriculture"] 
                                },
                                { 
                                    text: "Secondary Activities", 
                                    sub: ["Concept", "Manufacturing Types", "Household vs Small vs Large Scale", "Agro-based vs Mineral-based"] 
                                },
                                { 
                                    text: "Tertiary Activities", 
                                    sub: ["Concept", "Trade, Transport, Tourism", "Services"] 
                                },
                                { text: "Quaternary Activities – Concept" }
                            ]
                        },
                        {
                            title: "Unit 4: Transport, Communication & Trade",
                            topics: [
                                { text: "Land Transport – Roads, Railways" },
                                { text: "Satellite Communication & CyberSpace" },
                                { text: "International Trade – Bases & Patterns" },
                                { text: "Ports as Gateways" },
                                { text: "Trans-Continental Railways" },
                                { text: "Water Transport – Inland Waterways" },
                                { text: "Major Ocean Routes" },
                                { text: "Use of GPS" },
                                { text: "Role of WTO in International Trade" },
                                { text: "Air Transport – Intercontinental Routes" },
                                { text: "Oil and Gas Pipelines" }
                            ]
                        }
                    ]
                },
                {
                    name: "Part B: India – People and Economy",
                    units: [
                        {
                            title: "Unit 6: People",
                            topics: [
                                { text: "Population: Distribution, Density, Growth" },
                                { 
                                    text: "Composition of Population",
                                    sub: ["Linguistic", "Religious", "Sex"]
                                },
                                { text: "Rural-urban and Occupational-regional Variations" }
                            ]
                        },
                        {
                            title: "Unit 7: Human Settlements",
                            topics: [
                                { text: "Rural Settlements (Types, Distribution)" },
                                { text: "Urban Settlements (Types, Distribution, Functional Class)" }
                            ]
                        },
                        {
                            title: "Unit 8: Resources & Development",
                            topics: [
                                { text: "Land Resources – General Land Use" },
                                { text: "Agricultural Land Use" },
                                { text: "Major Crops (Wheat, Rice, Tea, Coffee, Cotton, Jute, Sugarcane, Rubber)" },
                                { text: "Agricultural Development and Problems" },
                                { 
                                    text: "Water Resources",
                                    sub: ["Irrigation, Domestic, Industrial", "Scarcity & Conservation", "Rain Water Harvesting", "Watershed Management"]
                                },
                                { text: "Mineral & Energy Resources (Metallic & Non-metallic)" },
                                { text: "Conventional & Non-conventional Energy Sources" },
                                { text: "Planning in India – Target group area planning" },
                                { text: "Idea of Sustainable Development" }
                            ]
                        },
                        {
                            title: "Unit 9: Transport, Communication & Int. Trade",
                            topics: [
                                { text: "Transport: Roads, Railways, Waterways, Airways, Pipelines" },
                                { text: "Geographical Information & Communication Networks" },
                                { text: "International Trade – Changing Pattern" },
                                { text: "Sea Ports and their Hinterland and Airports" }
                            ]
                        },
                        {
                            title: "Unit 10: Geographical Issues",
                            topics: [
                                { text: "Urbanization & Problems of Slums" },
                                { text: "Land Degradation" },
                                { text: "Environmental Pollution" },
                                { text: "Rural – Urban Migration" },
                                { text: "Urban-waste Disposal" }
                            ]
                        }
                    ]
                }
            ]
        },
        'arts': {
            parts: [
                {
                    name: "Theory (History of Indian Art)",
                    units: [
                        {
                            title: "Unit 1: The Rajasthani School of Miniature Painting",
                            topics: [
                                { text: "Introduction to Indian Miniature Schools" },
                                { text: "Origin, development and significant features of Rajasthani School" },
                                { text: "Sub-Schools: Mewar, Malwa, Jaipur, Bundi, Kota, Bikaner, Kishangarh" },
                                { 
                                    text: "Paintings", 
                                    sub: [
                                        "Maru-Ragini (Sahibdin - Mewar)",
                                        "Radha / Bani-Thani (Nihal Chand - Kishangarh)",
                                        "Bharat Meets Rama (Guman - Jaipur)"
                                    ] 
                                }
                            ]
                        },
                        {
                            title: "Unit 2: The Mughal School of Miniature Painting",
                            topics: [
                                { text: "Introduction, origin, development, features of Mughal School" },
                                { 
                                    text: "Paintings",
                                    sub: [
                                        "Krishna Lifting Mount Govardhan (Miskin - Akbar)",
                                        "Baber Crossing the River Sone (Jagannath - Akbar)",
                                        "Jahangir Holding the Picture of Madonna (Abul Hassan - Jahangir)",
                                        "Falcon on a Bird-Rest (Ustad Mansoor - Jahangir)",
                                        "Kabir and Raidas (Ustad Faquirullah Khan - Shahjahan)",
                                        "Marriage Procession of Dara Shikoh (Haji Madni - Provincial Mughal)"
                                    ]
                                }
                            ]
                        },
                        {
                            title: "Unit 3: Assamese Manuscript Painting",
                            topics: [
                                { text: "Introduction and Background (Vaishnava saint Srimanta Shankardeva context)" },
                                { text: "Origin, development and main features" },
                                { 
                                    text: "Paintings",
                                    sub: [
                                        "Hastibidyarnava (Dilbar)",
                                        "Chitra Bhagawata",
                                        "Lav Kushar Yudha",
                                        "Mahabharata subject (Rajagharia/Royal School)"
                                    ]
                                }
                            ]
                        },
                        {
                            title: "Unit 4: The Bengal School of Painting & Contemporary Trends",
                            topics: [
                                { text: "Evolution of the Indian National Flag (1906, 1921, 1947)" },
                                { text: "Bengal School: Origin, Development and Features" },
                                { text: "Contribution of Indian Artists in Freedom Movement" },
                                { 
                                    text: "Study of Artists and their Paintings",
                                    sub: [
                                        "Raja Ravi Varma",
                                        "Abanindra Nath Tagore",
                                        "Rabindra Nath Tagore",
                                        "Nandalal Bose",
                                        "Amrita Sher Gill"
                                    ]
                                }
                            ]
                        },
                        {
                            title: "Unit 5: The Contemporary Trends in Indian Art",
                            topics: [
                                { 
                                    text: "Study of Artists",
                                    sub: [
                                        "Binod Behari Mukherjee",
                                        "Ramkinker Baij",
                                        "M.F. Hussain",
                                        "Somenath Hore",
                                        "Mukta Bordoloi",
                                        "Asu Deb",
                                        "Sobha Brahma",
                                        "Romesh Ghosh",
                                        "Troilokya Dutta",
                                        "Neelpawan Barua",
                                        "Benu Mishra",
                                        "Pranab Baruah"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    };

    // --- State Management ---
    const STATE = {
        currentSubject: 'phe',
        progress: JSON.parse(localStorage.getItem('examPrepProgress')) || {}
    };

    // --- Core Functions ---

    function saveProgress() {
        localStorage.setItem('examPrepProgress', JSON.stringify(STATE.progress));
        updateProgressBar();
    }

    function toggleCheck(id) {
        if (STATE.progress[id]) {
            delete STATE.progress[id];
        } else {
            STATE.progress[id] = true;
        }
        saveProgress();
        // Re-render specific checkbox logic usually, but here we let the change event handle style
    }

    function calculateSubjectProgress(subjectId) {
        const data = SYLLABUS_DB[subjectId];
        if (!data) return 0;
        
        let total = 0;
        let completed = 0;

        data.parts.forEach(part => {
            part.units.forEach(unit => {
                unit.topics.forEach((topic, tIndex) => {
                    // Check main topic
                    const tId = `${subjectId}-${part.name}-${unit.title}-${tIndex}`;
                    total++;
                    if (STATE.progress[tId]) completed++;

                    // Check subtopics
                    if (topic.sub) {
                        topic.sub.forEach((sub, sIndex) => {
                            const sId = `${tId}-sub-${sIndex}`;
                            total++;
                            if (STATE.progress[sId]) completed++;
                        });
                    }
                });
            });
        });

        return total === 0 ? 0 : Math.round((completed / total) * 100);
    }

    function updateProgressBar() {
        const p = calculateSubjectProgress(STATE.currentSubject);
        document.getElementById('subject-progress').textContent = `${p}% Completed`;
    }

    // --- Renderers ---

    function renderDateSheet() {
        const list = document.getElementById('subject-list');
        list.innerHTML = EXAMS.map(exam => `
            <li class="subject-item ${exam.id === STATE.currentSubject ? 'active' : ''}" 
                onclick="switchSubject('${exam.id}')">
                <span>${exam.name}</span>
                <span class="subject-date">${exam.displayDate}</span>
            </li>
        `).join('');
    }

    function renderSyllabus() {
        const container = document.getElementById('syllabus-content');
        const title = document.getElementById('current-subject-title');
        const subjectData = SYLLABUS_DB[STATE.currentSubject];
        const subjectInfo = EXAMS.find(e => e.id === STATE.currentSubject);

        title.textContent = subjectInfo.name;
        
        if (!subjectData) {
            container.innerHTML = `
                <div style="padding: 2rem; text-align: center; color: var(--text-muted); border: 1px dashed var(--border); border-radius: 8px;">
                    Syllabus content pending upload.
                </div>
            `;
            document.getElementById('subject-progress').textContent = "N/A";
            return;
        }

        let html = '';

        subjectData.parts.forEach((part, pIndex) => {
            if (part.name !== "Complete Syllabus" && part.name !== "Theory" && part.name !== "Theory (History of Indian Art)") {
                html += `<div class="part-section"><div class="part-title">${part.name}</div>`;
            } else {
                html += `<div class="part-section">`;
            }

            part.units.forEach((unit, uIndex) => {
                html += `
                    <div class="unit-card glass-panel">
                        <div class="unit-header" onclick="toggleAccordion(this)">
                            <span class="unit-title">${unit.title}</span>
                            <div class="toggle-icon"></div>
                        </div>
                        <div class="unit-content">
                            <div class="topic-list">
                `;

                unit.topics.forEach((topic, tIndex) => {
                    const topicId = `${STATE.currentSubject}-${part.name}-${unit.title}-${tIndex}`;
                    const isChecked = STATE.progress[topicId] ? 'checked' : '';
                    
                    html += `
                        <div class="topic-item">
                            <div class="topic-header">
                                <input type="checkbox" class="custom-checkbox" id="${topicId}" ${isChecked} onchange="toggleCheck('${topicId}')">
                                <label for="${topicId}" class="topic-label">${topic.text}</label>
                            </div>
                    `;

                    if (topic.sub) {
                        html += `<div class="sub-topic-list">`;
                        topic.sub.forEach((sub, sIndex) => {
                            const subId = `${topicId}-sub-${sIndex}`;
                            const subChecked = STATE.progress[subId] ? 'checked' : '';
                            html += `
                                <div class="topic-header" style="margin-bottom: 0.5rem;">
                                    <input type="checkbox" class="custom-checkbox" id="${subId}" ${subChecked} onchange="toggleCheck('${subId}')">
                                    <label for="${subId}" class="topic-label text-sm">${sub}</label>
                                </div>
                            `;
                        });
                        html += `</div>`;
                    }

                    html += `</div>`;
                });

                html += `
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
        });

        container.innerHTML = html;
        updateProgressBar();
    }

    function switchSubject(id) {
        STATE.currentSubject = id;
        renderDateSheet(); // To update active class
        renderSyllabus();
    }

    function toggleAccordion(header) {
        const card = header.parentElement;
        const content = header.nextElementSibling;
        
        const isExpanded = card.classList.contains('expanded');
        
        if (isExpanded) {
            content.style.height = '0px';
            card.classList.remove('expanded');
        } else {
            // Close others if we want "one open at a time" feel, but standard accordion usually allows multiple.
            // Let's keep it allowing multiple for study comparison.
            content.style.height = content.scrollHeight + 'px';
            card.classList.add('expanded');
        }
    }

    // --- Countdown Timer ---
    function initCountdown() {
        const start = new Date('2026-02-01T00:00:00');
        const end = new Date('2026-02-18T00:00:00');
        const totalDuration = end - start;

        const els = {
            d: document.getElementById('days'),
            h: document.getElementById('hours'),
            m: document.getElementById('mins'),
            s: document.getElementById('secs'),
            bar: document.getElementById('countdown-progress'),
            pct: document.getElementById('progress-percent')
        };

        function tick() {
            const now = new Date();
            
            if (now >= end) {
                document.querySelector('.countdown-card h2').textContent = "EXAM DAY IS HERE";
                els.bar.style.width = '100%';
                els.pct.textContent = '100%';
                els.d.textContent = '00';
                els.h.textContent = '00';
                els.m.textContent = '00';
                els.s.textContent = '00';
                return;
            }

            const remaining = end - now;
            const elapsed = now - start;
            
            // Time calc
            const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
            const hours = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const mins = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const secs = Math.floor((remaining % (1000 * 60)) / 1000);

            // Update UI
            els.d.textContent = days.toString().padStart(2, '0');
            els.h.textContent = hours.toString().padStart(2, '0');
            els.m.textContent = mins.toString().padStart(2, '0');
            els.s.textContent = secs.toString().padStart(2, '0');

            // Progress Bar
            let pct = (elapsed / totalDuration) * 100;
            pct = Math.max(0, Math.min(100, pct)); // clamp
            
            els.bar.style.width = `${pct}%`;
            els.pct.textContent = `${Math.round(pct)}%`;
        }

        tick();
        setInterval(tick, 1000);
    }
    
    // --- Stars Background ---
    function createStars() {
        const count = 100; // Increased count
        const body = document.body;
        for (let i = 0; i < count; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            
            // Random size: small (2px) or tiny (1px)
            const size = Math.random() > 0.5 ? 2 : 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            
            // Random position
            star.style.top = `${Math.random() * 100}vh`;
            star.style.left = `${Math.random() * 100}vw`;
            
            // Random opacity for peak brightness
            star.style.setProperty('--opacity', Math.random() * 0.7 + 0.3);
            
            // Random animation duration (3s to 8s)
            star.style.setProperty('--duration', `${Math.random() * 5 + 3}s`);
            
            // Random delay
            star.style.setProperty('--delay', `${Math.random() * 5}s`);
            
            body.appendChild(star);
        }
    }

    // --- Meteor Effect ---
    function createMeteors() {
        const body = document.body;
        
        setInterval(() => {
            const meteor = document.createElement('div');
            meteor.className = 'meteor';
            
            // Random start position (mostly top right or top)
            const startX = Math.random() * window.innerWidth;
            const startY = Math.random() * (window.innerHeight / 2); // Start in top half
            
            meteor.style.left = `${startX}px`;
            meteor.style.top = `${startY}px`;
            
            // Add to DOM
            body.appendChild(meteor);
            
            // Animate
            requestAnimationFrame(() => {
                meteor.classList.add('animate');
            });
            
            // Remove after animation
            setTimeout(() => {
                meteor.remove();
            }, 2000); // Animation duration
            
        }, 2000); // New meteor every 2 seconds
    }

    // --- Init ---
    document.addEventListener('DOMContentLoaded', () => {
        initCountdown();
        renderDateSheet();
        renderSyllabus();
        createStars();
        createMeteors();
    });

</script>
</body>
</html>
